<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NewAdmin</title>
    <link rel="stylesheet" href="NewStylesAdmin.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/plugins/plugin.zoom.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.4/xlsx.full.min.js"></script>
</head>
<body>
    <header class="Encabezado">
        <div class="Encabezado-Publicidad">
            <p id="messageContainer">Prueba tu suerte üçÄ por solo $75 podr√≠as ganar hasta $100,000</p>
            <script src="MensajesPublicidad.js"></script>
        </div>
        <div class="Encabezado-Sorteos">
            <a href="http://localhost:8000/NewAdmin.html">
                <img src="img/logo sorteos.png" style="width: 200px; height: auto;">
            </a>
            <img id="admin-pic"src="img/adminpic.png" alt="data picture" height="50px" width="50px">
        </div>

        <nav class="navbar">
            <a href="http://localhost:8000/loginRegister.html" class="LoginNav" id="logoutBtn" >
                <img class="LoginImg" src="img/perfil.png">
                <p> LOGOUT</p>
            </a>
        </nav>
    </header>
    <div class="main">
        <article class="Container">
            <div id="Bienvenido">
                <h1 id="adminWelcome">Bienvenido (adminName)</h1>
                <p>Bienvenido al panel de administraci√≥n
                    <br>Desde aqu√≠ puedes gestionar y administrar diferentes aspectos del sitio web.
                    <br><br>Selecciona una de las opciones del men√∫ para ver m√°s detalles y realizar acciones espec√≠ficas en cada √°rea.
                    <br>Utiliza el men√∫ de navegaci√≥n para acceder a las diferentes secciones:
                </p>
                <ul>
                    <li>Rendimientos</li>
                    <li>Engagement</li>
                    <li>Juegos</li>
                    <li>Registrar nuevo perfil de adminstrador</li>
                </ul>
            </div>
            <div id="contenedor1">
                <div class="NavColTitle">
                    <h1>Rendimientos</h1>
                </div>
                <div class="Content">
                    <iframe 
                    src="https://lookerstudio.google.com/embed/reporting/81309993-9382-41b0-b7a2-b58281dbf3cf/page/TfzxD" 
                    frameborder="0" 
                    style="border:0; width: 100%; min-height: 600px;;" 
                    allowfullscreen 
                    sandbox="allow-storage-access-by-user-activation allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox">
                    </iframe>
                </div>
            </div>
            <div id="contenedor2">
                <div class="NavColTitle">
                    <h1>Engagement</h1>
                </div>
                <div class="Content">
                    <iframe 
                    src="https://lookerstudio.google.com/embed/reporting/aa7f0af2-2482-47a3-b446-8f70977f7a45/page/TfzxD" 
                    frameborder="0" 
                    style="border:0; width: 100%; min-height: 600px;;" 
                    allowfullscreen 
                    sandbox="allow-storage-access-by-user-activation allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox">
                    </iframe>
            </div>

            </div>
            <div id="contenedor3">
                <div class="NavColTitle">
                    <h1>Juegos</h1>
                </div>
                <div class="Content">
                        <iframe 
                        src="https://lookerstudio.google.com/embed/reporting/521400dd-e646-4faf-96d2-db6444bbfbe2/page/TfzxD" 
                        frameborder="0" 
                        style="border:0; width: 100%; min-height: 600px;;" 
                        allowfullscreen 
                        sandbox="allow-storage-access-by-user-activation allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox">
                        </iframe>
                </div>
            </div>
            <div id="contenedor4">
                <div class="NavColTitle">
                    <h1>Crear nuevo perfil de administrador</h1>
                    <p>Desde aqu√≠ podr√°s dar de alta un nuevo perf√≠l de administrador.</p>
                </div>
                <div class="form-container sign-up">
                    <form id='registerForm'action="http://localhost:3000/register" method="POST">
                        <h1>Registrar Perfil</h1>
                        <input type="text" id="name" placeholder="Nombre(s)" name="name" required>
                        <input type="text" id="apellido paterno" placeholder="Apellido Paterno" name="apellido paterno" required>
                        <input type="text" id="apellido materno" placeholder="Apellido Materno" name="apellido materno" required>
                        <input type="email" id="email" placeholder="Email" name="Email" required>
                        <input type="tel" id="number" placeholder="Tel√©fono M√≥vil" name="Tel√©fono M√≥vil" required>
                        <input type="text" placeholder="Fecha de Nacimiento" onfocus="(this.type='date')" onblur="(this.type='text')" id="fecha de nacimiento" name="fechanacimiento" required>
                        
                            <input type="text" id="ciudad" placeholder="Ciudad" name="ciudad" required>
                            <input type="text"id="estado" placeholder="Estado" name="estado" list="estados">
                            <datalist id="estados">
                                <option value="Aguascalientes">
                                    <option value="Baja California">
                                    <option value="Baja California Sur">
                                    <option value="Campeche">
                                    <option value="Chiapas">
                                    <option value="Chihuahua">
                                    <option value="Ciudad de M√©xico">
                                    <option value="Coahuila">
                                    <option value="Colima">
                                    <option value="Durango">
                                    <option value="Estado de M√©xico">
                                    <option value="Guanajuato">
                                    <option value="Guerrero">
                                    <option value="Hidalgo">
                                    <option value="Jalisco">
                                    <option value="Michoac√°n">
                                    <option value="Morelos">
                                    <option value="Nayarit">
                                    <option value="Nuevo Le√≥n">
                                    <option value="Oaxaca">
                                    <option value="Puebla">
                                    <option value="Quer√©taro">
                                    <option value="Quintana Roo">
                                    <option value="San Luis Potos√≠">
                                    <option value="Sinaloa">
                                    <option value="Sonora">
                                    <option value="Tabasco">
                                    <option value="Tamaulipas">
                                    <option value="Tlaxcala">
                                    <option value="Veracruz">
                                    <option value="Yucat√°n">
                                    <option value="Zacatecas">
                            </datalist>
                        <input type="text" id="username" placeholder="Nombre de usuario" name="username" required>
                        <input type="password" id="password" placeholder="Contrase√±a" name="password" required>
                        <input type="hidden" id="rol" name="rol" value="admin">
                        <button>Registrar</button>
                    </form>
                </div>
            </div>
        </article>    
        <nav class="NavColumn">
            <ul>
                <li><a href="#" onclick="mostrarContenedor('contenedor1')" id="opcion1">Rendimientos</a></li>
                <li><a href="#" onclick="mostrarContenedor('contenedor2')" id="opcion2">Engagement</a></li>
                <li><a href="#" onclick="mostrarContenedor('contenedor3')" id="opcion3">Juegos</a></li>
                <li><a href="#" onclick="mostrarContenedor('contenedor4')" id="opcion4">Registro</a></li>        
            </ul>
        </nav>  
    </div>
    <script>
        fetch('login_response.json')
        .then(response => {
            if (response.ok) {
                // If the file exists, execute the code inside the then block
                return response.json();
            } else {
                // If the file doesn't exist, skip the then block and proceed to the else block
                throw new Error('login_response.json not found');
            }
        })
        .then(data => {
            // Code inside the if block will only execute if login_response.json exists
            const adminName = data.userName;

            // Update the welcome message with the administrator's name
            const amdinWelcome = document.getElementById('adminWelcome');
            adminWelcome.textContent = `Bienvenido ${adminName}`;
        })
        .catch(error => {
            console.error('Error fetching JSON:', error);
        });
        document.getElementById('logoutBtn').addEventListener('click', () => {
                        // Send POST request to logout endpoint
                        fetch('http://localhost:3000/logout', {
                            method: 'POST'
                        })
                        .catch(error => {
                            console.error('Error logging out:', error);
                        });
                    });
    </script>
    <script src="AdminNavBar.js"></script>
</body>
</html>